RewriteEngine On

# 1. อนุญาตให้เข้าถึงไฟล์ใน router ได้ (ต้องวางไว้ก่อนกฎการบล็อก)
RewriteRule ^router/ - [L]

# 2. ปิดกั้นการเข้าถึงโฟลเดอร์สำคัญ (เฉพาะเรียกผ่าน URL)
RewriteRule ^(function|config|include)/ - [F,L]

# 3. ซ่อนนามสกุล .php (Hide .php extension)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.+)$ $1.php [L,QSA]

# 4. บังคับ Redirect จาก .php ไปแบบไม่มี .php (ตัวเลือก)
RewriteCond %{THE_REQUEST} \s/+(.+)\.php[\s?]
RewriteRule ^ %1 [R=301,L]

# ปิดการแสดงรายชื่อไฟล์ในโฟลเดอร์
Options -Indexes